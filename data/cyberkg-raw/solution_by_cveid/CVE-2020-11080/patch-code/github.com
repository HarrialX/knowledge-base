Original Source:
https://github.com/nghttp2/nghttp2/commit/f8da73bd042f810f34d19f9eae02b46d870af394

Commit history:

  @@ -5653,6 +5653,12 @@ ssize_t nghttp2_session_mem_recv(nghttp2_session *session, const uint8_t *in,
   break;
          }
  
+  /* Check the settings flood counter early to be safe */
+  if (session->obq_flood_counter_ >= session->max_outbound_ack &&
+             !(iframe->frame.hd.flags & NGHTTP2_FLAG_ACK)) {
+  return NGHTTP2_ERR_FLOODED;
+         }
+ 
          iframe->state = NGHTTP2_IB_READ_SETTINGS;
  
   if (iframe->payloadleft) {
  
