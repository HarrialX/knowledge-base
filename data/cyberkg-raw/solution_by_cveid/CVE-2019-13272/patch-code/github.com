Original Source:
https://github.com/torvalds/linux/commit/6994eefb0053799d2e07cd140df6c2ea106c41ee

Commit history:

  @@ -79,9 +79,7 @@ void __ptrace_link(struct task_struct *child, struct task_struct *new_parent,
   */
  static void ptrace_link(struct task_struct *child, struct task_struct *new_parent)
  {
-  rcu_read_lock();
-  __ptrace_link(child, new_parent, __task_cred(new_parent));
-  rcu_read_unlock();
+  __ptrace_link(child, new_parent, current_cred());
  }
  
  /**
  
