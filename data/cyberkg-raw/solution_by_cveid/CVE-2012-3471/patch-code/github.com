Original Source:
https://github.com/ushahidi/Ushahidi_Web/commit/3f14fa0

Commit history:

  @@ -707,8 +707,8 @@ public function edit($id = FALSE, $saved = FALSE)
   $sql = "SELECT AsText(geometry) as geometry, geometry_label,
  						geometry_comment, geometry_color, geometry_strokewidth
  						FROM ".Kohana::config('database.default.table_prefix')."geometry
- 						WHERE incident_id=".$id;
-  $query = $db->query($sql);
+ 						WHERE incident_id = ?";
+  $query = $db->query($sql, $id);
   foreach ( $query as $item )
  					{
   $geometry = array(
  
  @@ -496,8 +496,8 @@ public function edit($id = FALSE, $saved = FALSE)
   $sql = "SELECT AsText(geometry) as geometry, geometry_label, 
  						geometry_comment, geometry_color, geometry_strokewidth 
  						FROM ".Kohana::config('database.default.table_prefix')."geometry 
- 						WHERE incident_id=".$id;
-  $query = $db->query($sql);
+ 						WHERE incident_id = ?";
+  $query = $db->query($sql, $id);
   foreach ( $query as $item )
  					{
   $geometry = array(
  
