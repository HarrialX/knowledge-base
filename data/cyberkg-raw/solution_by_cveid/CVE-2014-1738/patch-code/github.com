Original Source:
https://github.com/torvalds/linux/commit/2145e15e0557a01b9195d1c7199a1b92cb9be81f

Commit history:

  @@ -3067,7 +3067,10 @@ static int raw_cmd_copyout(int cmd, void __user *param,
   int ret;
  
   while (ptr) {
- 		ret = copy_to_user(param, ptr, sizeof(*ptr));
+  struct floppy_raw_cmd cmd = *ptr;
+ 		cmd.next = NULL;
+ 		cmd.kernel_data = NULL;
+ 		ret = copy_to_user(param, &cmd, sizeof(cmd));
   if (ret)
   return -EFAULT;
  		param += sizeof(struct floppy_raw_cmd);
  
