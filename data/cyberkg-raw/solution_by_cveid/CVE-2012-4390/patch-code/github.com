Original Source:
https://github.com/owncloud/core/commit/4682846d3ecdad15c6a60126dda75eb7fa97c707

Commit history:

  @@ -21,12 +21,15 @@
  $caldavBackend    = new OC_Connector_Sabre_CalDAV();
  
  // Root nodes
- $collection = new Sabre_CalDAV_Principal_Collection($principalBackend); 
- $collection->disableListing = true; // Disable listening
+ $Sabre_CalDAV_Principal_Collection = new Sabre_CalDAV_Principal_Collection($principalBackend); 
+ $Sabre_CalDAV_Principal_Collection->disableListing = true; // Disable listening
+ 
+ $Sabre_CalDAV_CalendarRootNode = new Sabre_CalDAV_CalendarRootNode($principalBackend, $caldavBackend); 
+ $Sabre_CalDAV_CalendarRootNode->disableListing = true; // Disable listening
  
  $nodes = array( 
-  $collection, 
-  new Sabre_CalDAV_CalendarRootNode($principalBackend, $caldavBackend),
+  $Sabre_CalDAV_Principal_Collection, 
+  $Sabre_CalDAV_CalendarRootNode,
  	);
  
  
  
  @@ -36,12 +36,15 @@
  $carddavBackend   = new OC_Connector_Sabre_CardDAV();
  
  // Root nodes
- $collection = new Sabre_CalDAV_Principal_Collection($principalBackend); 
- $collection->disableListing = true; // Disable listening
+ $Sabre_CalDAV_Principal_Collection = new Sabre_CalDAV_Principal_Collection($principalBackend); 
+ $Sabre_CalDAV_Principal_Collection->disableListing = true; // Disable listening
+ 
+ $Sabre_CardDAV_AddressBookRoot = new Sabre_CardDAV_AddressBookRoot($principalBackend, $carddavBackend);
+ $Sabre_CardDAV_AddressBookRoot->disableListing = true; // Disable listening
  
  $nodes = array( 
-  $collection, 
-  new Sabre_CardDAV_AddressBookRoot($principalBackend, $carddavBackend),
+  $Sabre_CalDAV_Principal_Collection, 
+  $Sabre_CardDAV_AddressBookRoot,
  	);
  
  // Fire up server
  
