Original Source:
https://github.com/torvalds/linux/commit/bcf3b67d16a4c8ffae0aa79de5853435e683945c

Commit history:

  @@ -4188,6 +4188,7 @@ int megasas_alloc_cmds(struct megasas_instance *instance)
   if (megasas_create_frame_pool(instance)) {
   dev_printk(KERN_DEBUG, &instance->pdev->dev, "Error creating frame DMA pool\n");
   megasas_free_cmds(instance);
+  return -ENOMEM;
  	}
  
   return 0;
  
