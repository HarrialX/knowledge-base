Original Source:
https://github.com/torvalds/linux/commit/18f39e7be0121317550d03e267e3ebd4dbfbb3ce

Commit history:

  @@ -907,7 +907,8 @@ SMB2_tcon(const unsigned int xid, struct cifs_ses *ses, const char *tree,
  tcon_error_exit:
   if (rsp->hdr.Status == STATUS_BAD_NETWORK_NAME) {
   cifs_dbg(VFS, "BAD_NETWORK_NAME: %s\n", tree);
- 		tcon->bad_network_name = true;
+  if (tcon)
+ 			tcon->bad_network_name = true;
  	}
   goto tcon_exit;
  }
  
