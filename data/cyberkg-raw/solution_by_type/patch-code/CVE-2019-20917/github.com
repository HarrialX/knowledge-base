Original Source:
https://github.com/inspircd/inspircd/commit/8745660fcdac7c1b80c94cfc0ff60928cd4dd4b7

Commit history:

  @@ -412,6 +412,9 @@ ModuleSQL::ModuleSQL()
  
  void ModuleSQL::init()
  {
+  if (mysql_library_init(0, NULL, NULL))
+  throw ModuleException("Unable to initialise the MySQL library!");
+ 
  	Dispatcher = new DispatcherThread(this);
  	ServerInstance->Threads.Start(Dispatcher);
  }
  @@ -424,10 +427,13 @@ ModuleSQL::~ModuleSQL()
  		Dispatcher->OnNotify();
   delete Dispatcher;
  	}
+ 
   for(ConnMap::iterator i = connections.begin(); i != connections.end(); i++)
  	{
   delete i->second;
  	}
+ 
+  mysql_library_end();
  }
  
  void ModuleSQL::ReadConfig(ConfigStatus& status)
  
