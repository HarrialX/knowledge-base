Original Source:
https://github.com/apache/incubator-livy/commit/4d8a912699683b973eee76d4e91447d769a0cb0d

Commit history:

  @@ -15,13 +15,17 @@
   * limitations under the License.
   */
  
+ function escapeHtml(unescapedText) {
+  return $("<div>").text(unescapedText).html()
                This comment has been minimized.

        

Sign in to view
















              Copy link
            

              Quote reply
            









zonidjan



Feb 22, 2021





https://developer.mozilla.org/en-US/docs/Web/API/Document/createTextNode
+ }
+ 
  function loadSessionsTable(sessions) {
   $.each(sessions, function(index, session) {
   $("#interactive-sessions .sessions-table-body").append(
   "<tr>" +
   tdWrap(uiLink("session/" + session.id, session.id)) +
   tdWrap(appIdLink(session)) +
-  tdWrap(session.name) +
+  tdWrap(escapeHtml(session.name)) +
   tdWrap(session.owner) +
   tdWrap(session.proxyUser) +
   tdWrap(session.kind) +
  @@ -38,7 +42,7 @@ function loadBatchesTable(sessions) {
   "<tr>" +
   tdWrap(session.id) +
   tdWrap(appIdLink(session)) +
-  tdWrap(session.name) +
+  tdWrap(escapeHtml(session.name)) +
   tdWrap(session.owner) +
   tdWrap(session.proxyUser) +
   tdWrap(session.state) +
  @@ -79,4 +83,4 @@ $(document).ready(function () {
   $("#all-sessions").append('<h4>No Sessions or Batches have been created yet.</h4>');
   }
   });
- });
+ });
