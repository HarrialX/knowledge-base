Original Source:
https://github.com/LimeSurvey/LimeSurvey/commit/3a6dd6b44cef2fa3f96f403e1cb971d8d0d694b5

Commit history:

  @@ -3799,7 +3799,6 @@ function questionAttributes($returnByName=false)
   'category'=>$clang->gT('Other'),
   'sortorder'=>130,
   "inputtype"=>"text",
-  'default'=>'1',
                This comment has been minimized.

        

Sign in to view
















              Copy link
            

              Quote reply
            









Shnoulle



Jul 16, 2014




      Collaborator
    


Any reason to remove the default ? See http://bugs.limesurvey.org/view.php?id=9141
   "help"=>$clang->gT("Maximum number of files that the participant can upload for this question"),
   "caption"=>$clang->gT("Max number of files"));
  
  @@ -3883,14 +3882,6 @@ function categorySort($a, $b)
   return $result;
  }
  
- // make sure the given string (which comes from a POST or GET variable)
- // is safe to use in MySQL.  This does nothing if gpc_magic_quotes is on.
- function autoEscape($str) {
-  if (!get_magic_quotes_gpc()) {
-  return addslashes ($str);
-     }
-  return $str;
- }
  
  // the opposite of the above: takes a POST or GET variable which may or
  // may not have been 'auto-quoted', and return the *unquoted* version.
  
  @@ -29,7 +29,7 @@ function loadanswers()
          {
   $query .= "AND {{saved_control}}.scid={$scid}\n";
          }
-  $query .="AND {{saved_control}}.identifier = '".autoEscape($_SESSION['survey_'.$surveyid]['holdname'])."' ";
+  $query .="AND {{saved_control}}.identifier = '".Yii::app()->db->quoteValue($_SESSION['survey_'.$surveyid]['holdname'])."' ";
  
   if (in_array(Yii::app()->db->getDriverName(), array('mssql', 'sqlsrv', 'dblib')))
          {
  
