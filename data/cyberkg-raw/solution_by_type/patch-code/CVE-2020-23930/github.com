Original Source:
https://github.com/gpac/gpac/commit/9eeac00b38348c664dfeae2525bba0cf1bc32349

Commit history:

  @@ -5595,7 +5595,7 @@ int mp4boxMain(int argc, char **argv)
   if (dump_iod) {
  		GF_InitialObjectDescriptor *iod = (GF_InitialObjectDescriptor *)gf_isom_get_root_od(file);
   if (!iod) {
-  fprintf(stderr, "File %s has no IOD", inName);
+  fprintf(stderr, "File %s has no IOD\n", inName);
  		} else {
   char szName[GF_MAX_PATH+10];
  			FILE *iodf;
  
  @@ -398,7 +398,8 @@ static void nhmldump_send_header(GF_NHMLDumpCtx *ctx)
   sprintf(nhml, "sampleRate=\"%d\" numChannels=\"%d\" ", ctx->sr, ctx->chan);
   gf_bs_write_data(ctx->bs_w, nhml, (u32) strlen(nhml));
  		p = gf_filter_pid_get_property(ctx->ipid, GF_PROP_PID_AUDIO_FORMAT);
-  sprintf(nhml, "bitsPerSample=\"%d\" ", gf_audio_fmt_bit_depth(p->value.uint));
+  if (p)
+  sprintf(nhml, "bitsPerSample=\"%d\" ", gf_audio_fmt_bit_depth(p->value.uint));
   gf_bs_write_data(ctx->bs_w, nhml, (u32) strlen(nhml));
  	}
  
  
