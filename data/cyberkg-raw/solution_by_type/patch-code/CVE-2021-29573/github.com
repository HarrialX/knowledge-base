Original Source:
https://github.com/tensorflow/tensorflow/commit/376c352a37ce5a68b721406dc7e77ac4b6cf483d

Commit history:

  @@ -1088,6 +1088,8 @@ class MaxPoolingGradWithArgmaxOp : public OpKernel {
   OP_REQUIRES_OK(context, context->forward_input_or_allocate_output(
                                  {0}, 0, out_shape, &grad_out));
  
+  if (out_shape.num_elements() == 0) return;  // nothing to be done
+ 
      LaunchMaxPoolingGradWithArgmax<Device, T>::launch(
          context, params, grad_in, argmax, grad_out, include_batch_in_index_);
    }
  
