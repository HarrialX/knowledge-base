Original Source:
https://github.com/jsummers/imageworsener/commit/86564051db45b466e5f667111ce00b5eeedc8fb6

Commit history:

  @@ -19,8 +19,8 @@
  typedef double iw_tmpsample;
  
  #ifdef IW_64BIT
- #define IW_DEFAULT_MAX_DIMENSION 1000000
- #define IW_DEFAULT_MAX_MALLOC 2000000000000
+ #define IW_DEFAULT_MAX_DIMENSION 40000
+ #define IW_DEFAULT_MAX_MALLOC 2000000000
  #else
  #define IW_DEFAULT_MAX_DIMENSION 40000 // Must be less than sqrt(2^31).
  #define IW_DEFAULT_MAX_MALLOC 2000000000
  
