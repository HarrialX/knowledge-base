Original Source:
https://github.com/ImageMagick/ImageMagick6/commit/3c53413eb544cc567309b4c86485eae43e956112

Commit history:

  @@ -4079,13 +4079,15 @@ RestoreMSCWarning
   if (image->colorspace == LabColorspace)
   DecodeLabImage(image,&image->exception);
   DestroyTIFFInfo(&tiff_info);
-  if (image->exception.severity > ErrorException)
-  break;
  DisableMSCWarning(4127)
   if (0 && (image_info->verbose != MagickFalse))
  RestoreMSCWarning
   TIFFPrintDirectory(tiff,stdout,MagickFalse);
-     (void) TIFFWriteDirectory(tiff);
+  if (TIFFWriteDirectory(tiff) == 0)
+       {
+         status=MagickFalse;
+  break;
+       }
      image=SyncNextImageInList(image);
   if (image == (Image *) NULL)
   break;
  @@ -4094,6 +4096,6 @@ RestoreMSCWarning
   break;
    } while (image_info->adjoin != MagickFalse);
   TIFFClose(tiff);
-  return(image->exception.severity > ErrorException ? MagickFalse : MagickTrue);
+  return(status);
  }
  #endif
