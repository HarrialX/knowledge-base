Original Source:
https://github.com/torvalds/linux/commit/f3069c6d33f6ae63a1668737bc78aaaa51bff7ca

Commit history:

  @@ -183,7 +183,7 @@ static int __rds_rdma_map(struct rds_sock *rs, struct rds_get_mr_args *args,
   long i;
   int ret;
  
-  if (rs->rs_bound_addr == 0) {
+  if (rs->rs_bound_addr == 0 || !rs->rs_transport) {
  		ret = -ENOTCONN; /* XXX not a great errno */
   goto out;
  	}
  
