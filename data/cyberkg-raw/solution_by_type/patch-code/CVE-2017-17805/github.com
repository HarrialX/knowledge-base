Original Source:
https://github.com/torvalds/linux/commit/ecaaab5649781c5a0effdaf298a925063020500e

Commit history:

  @@ -59,13 +59,6 @@ static int encrypt(struct blkcipher_desc *desc,
  
   salsa20_ivsetup(ctx, walk.iv);
  
-  if (likely(walk.nbytes == nbytes))
- 	{
-  salsa20_encrypt_bytes(ctx, walk.src.virt.addr,
- 				      walk.dst.virt.addr, nbytes);
-  return blkcipher_walk_done(desc, &walk, 0);
- 	}
- 
   while (walk.nbytes >= 64) {
   salsa20_encrypt_bytes(ctx, walk.src.virt.addr,
  				      walk.dst.virt.addr,
  
  @@ -188,13 +188,6 @@ static int encrypt(struct blkcipher_desc *desc,
  
   salsa20_ivsetup(ctx, walk.iv);
  
-  if (likely(walk.nbytes == nbytes))
- 	{
-  salsa20_encrypt_bytes(ctx, walk.dst.virt.addr,
- 				      walk.src.virt.addr, nbytes);
-  return blkcipher_walk_done(desc, &walk, 0);
- 	}
- 
   while (walk.nbytes >= 64) {
   salsa20_encrypt_bytes(ctx, walk.dst.virt.addr,
  				      walk.src.virt.addr,
  
