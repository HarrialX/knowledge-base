Original Source:
https://github.com/Bitmessage/PyBitmessage/commit/3a8016d31f517775d226aa8b902480f4a3a148a9#comments

Commit history:

  @@ -12,9 +12,10 @@ def encode(self):
  
  def constructObject(data):
   try:
-  classBase = eval(data[""] + "." + data[""].title())
-  except NameError:
-  logger.error("Don't know how to handle message type: \"%s\"", data[""])
+  m = import_module("messagetypes." + data[""])
+  classBase = getattr(m, data[""].title())
+  except (NameError, ImportError):
+  logger.error("Don't know how to handle message type: \"%s\"", data[""], exc_info=True)
   return None
   try:
   returnObj = classBase()
  
