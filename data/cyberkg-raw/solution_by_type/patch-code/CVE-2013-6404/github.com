Original Source:
https://github.com/quassel/quassel/commit/a1a24da

Commit history:

  @@ -1,3 +1,3 @@
  SELECT bufferid, networkid, buffertype, groupid, buffername
  FROM buffer
- WHERE bufferid = :bufferid
+ WHERE userid = :userid AND bufferid = :bufferid
  @@ -17,4 +17,5 @@ rejoinchannels = :rejoinchannels,
  usesasl = :usesasl,
  saslaccount = :saslaccount,
  saslpassword = :saslpassword
- WHERE networkid = :networkid
+ WHERE userid = :userid AND networkid = :networkid
+ 
  @@ -1,3 +1,3 @@
  SELECT bufferid, networkid, buffertype, groupid, buffername
  FROM buffer
- WHERE bufferid = :bufferid
+ WHERE bufferid = :bufferid AND userid = :userid
