Original Source:
https://github.com/GNOME/libgsf/commit/95a8351a75758cf10b3bf6abae0b6b461f90d9e5

Commit history:

  @@ -1,3 +1,10 @@
+ 2016-11-30  Morten Welinder  <terra@gnome.org>
+ 
+ 	* gsf/gsf-infile-tar.c (tar_directory_for_file): Handle the case
+ 	where what we expected to be a directory is a file.  (That implies
+ 	a corrupted tar file.)  Thanks to Behzad Najjarpour Jabbari,
+ 	Secunia Research at Flexera Software for discovering this.
+ 
  2016-08-20  Morten Welinder <terra@gnome.org>
  
  	* configure.ac: Post-release bump.
  
  @@ -1,5 +1,8 @@
  libgsf 1.14.41
  
+ Morten:
+ 	* Fix corrupted-tar-file crash.
+ 
  --------------------------------------------------------------------------
  libgsf 1.14.40
  
  
  @@ -181,9 +181,11 @@ tar_directory_for_file (GsfInfileTar *dir, const char *name, gboolean last)
   gsf_infile_child_by_name (GSF_INFILE (dir),
  							  dirname);
   if (subdir) {
+ 				dir = GSF_IS_INFILE_TAR (subdir)
+ 					? GSF_INFILE_TAR (subdir)
+ 					: dir;
   /* Undo the ref. */
   g_object_unref (subdir);
- 				dir = GSF_INFILE_TAR (subdir);
  			} else
  				dir = tar_create_dir (dir, dirname);
  		}
  
