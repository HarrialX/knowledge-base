Original Source:
https://github.com/eclipse-ee4j/mojarra/commit/1b434748d9239f42eae8aa7d37d7a0930c061e24

Commit history:

  @@ -288,6 +288,10 @@ public UIComponent createComponent(FacesContext context, Resource componentResou
      }
  
   public UIComponent createComponent(FacesContext context, String componentType, String rendererType) {
+ 
+         notNull(CONTEXT, context);
+         notNull(COMPONENT_TYPE, componentType);
+ 
   return createComponentApplyAnnotations(context, componentType, rendererType, true);
      }
  
  
  @@ -565,7 +565,7 @@ private String getLocalePrefix(FacesContext context) {
  
          localePrefix = context.getExternalContext().getRequestParameterMap().get("loc");
  
-  if(localePrefix != null){
+  if(localePrefix != null && !nameContainsForbiddenSequence(localePrefix)){
   return localePrefix;
          }
  
  
