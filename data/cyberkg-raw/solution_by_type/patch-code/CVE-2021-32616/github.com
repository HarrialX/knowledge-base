Original Source:
https://github.com/onedotprojects/cdn/commit/f88a2730fa50fc2c2aeab09011f6f142fd90ec25

Commit history:

  @@ -3,7 +3,8 @@
  const { decode } = require("url-encode-decode"),
   fileSystem = require("fs"),
   http = require("http"),
-  mime = require("mime");
+  mime = require("mime"),
+  sanitizeHtml = require('sanitize-html');
  http.createServer((req, res) => {
   const url = decode(req.url).replace("//", "/");
   try {
  @@ -14,15 +15,15 @@ http.createServer((req, res) => {
   });
   res.end(data);
   } else {
-  res.write(`<h1>Index of ${url}</h1><br><hr>`);
+  res.write(`<body style="background-image:url('/background.svg')"><h1>Index of ${url}</h1><br><hr>`);
   if (url !== "/") {
   res.write('<br><a href="..">..</a>');
   }
   fileSystem.readdir(`${__dirname}/cdn/${url}`, (error, files) => {
   if (error) {
   res.writeHead(500, { "Content-Type": "text/html" });
   return res.end(
-  `<h1>there was an error processing your request:</h1>\n<br/>\n<p>${error}</p>`,
+  `<h1>there was an error processing your request:</h1>\n<br/>\n<p>${sanitizeHtml(error)}</p>`,
   );
   }
   files.forEach((file) => {
  @@ -35,13 +36,14 @@ http.createServer((req, res) => {
   }
   return res.write(`<br><a href="${file}">${file}</a>`);
   });
+  res.write('</body>')
   res.end();
   });
   }
   } catch (error) {
   res.writeHead(500, { "Content-Type": "text/html" });
-  res.end(
-  `<h1>there was an error processing your request:</h1>\n<br/>\n<p>${error}</p>`,
+  return res.end(
+  `<h1>there was an error processing your request:</h1>\n<br/>\n<p>${sanitizeHtml(error)}</p>`,
   );
   }
  }).listen(process.env.PORT || 3000);
  @@ -1,6 +1,5 @@
  {
   "name": "@onedotprojects/cdn",
-  "description": "Branding for 1Dot",
   "author": "OneDot Projects",
   "keywords": [
   "cdn",
  @@ -28,11 +27,12 @@
   "lint:spellchecker-cli": "npx spellchecker-cli *.md _locales/en_US.json .github/**/*.md .github/*.md --dictionaries dictionary.txt",
   "lint:write_good": "find . -path ./node_modules -prune -false -o -name '*.md' | xargs -L1 npm run lint:write_good:config; npm run lint:write_good:config _locales/en_US.json",
   "lint:write_good:config": "npx write-good --yes-eprime --parse",
-  "start": "node --trace-warnings --harmony src/index.js",
-  "start:dev": "npx nodemon --harmony --trace-warnings src/index.js"
+  "start": "node --trace-warnings --harmony index.js",
+  "start:dev": "npx nodemon --harmony --trace-warnings index.js"
  	},
   "dependencies": {
   "mime": "^2.5.2",
+  "sanitize-html": "^2.3.3",
   "url-encode-decode": "^1.0.0"
  	},
   "devDependencies": {
  
