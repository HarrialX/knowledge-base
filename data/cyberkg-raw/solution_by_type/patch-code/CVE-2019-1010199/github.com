Original Source:
https://github.com/ServiceStack/ServiceStack/commit/a0e0d7de20f5d1712f1793f925496def4383c610

Commit history:

  @@ -90,12 +90,13 @@ public async Task SerializeToStreamAsync(IRequest req, object response, Stream o
              {
   // Serialize then escape any potential script tags to avoid XSS when displaying as HTML
   var json = JsonDataContractSerializer.Instance.SerializeToString(dto) ?? "null";
-  json = json.Replace("<", "&lt;").Replace(">", "&gt;");
+  json = json.HtmlEncode();
  
   var url = req.ResolveAbsoluteUrl()
                      .Replace("format=html", "")
                      .Replace("format=shtm", "")
-                     .TrimEnd('?', '&');
+                     .TrimEnd('?', '&')
+                     .HtmlEncode();
  
   url += url.Contains("?") ? "&" : "?";
  
  
